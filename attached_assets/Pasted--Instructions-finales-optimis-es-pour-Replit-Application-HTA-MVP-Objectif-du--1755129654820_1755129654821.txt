## ðŸ“‹ **Instructions finales optimisÃ©es pour Replit - Application HTA (MVP)**

### **ðŸŽ¯ Objectif du projet :**

- CrÃ©er une application Web Ã©ducative pour Ã©tudiants en mÃ©decine et pharmacie au QuÃ©bec
- Enseigner la matiÃ¨re complÃ¨te sur lâ€™hypertension artÃ©rielle
- Utiliser la taxonomie de Bloom pour structurer lâ€™apprentissage

### **ðŸ“š Contenu acadÃ©mique Ã  couvrir :**

- **Ã‰pidÃ©miologie** de lâ€™hypertension
- **Physiopathologie** et mÃ©canismes
- **PrÃ©sentation clinique** et symptÃ´mes
- **Diagnostic** et techniques de mesure
- **Stratification du risque cardiovasculaire** (Framingham)
- **Objectifs thÃ©rapeutiques** selon les lignes directrices
- **Modifications des habitudes de vie** (MHV)
- **Pharmacologie** des antihypertenseurs
- **PharmacothÃ©rapie** et algorithmes de traitement
- **Suivi** et monitoring des patients

### **ðŸ“– Sources de rÃ©fÃ©rence (pour futures questions rÃ©elles) :**

- **Lignes directrices Hypertension Canada 2025**
- **SociÃ©tÃ© quÃ©bÃ©coise dâ€™hypertension artÃ©rielle (SQHA)**
- **INESSS** (protocoles mÃ©dicaux nationaux)
- **Manuels de pharmacologie** (DiPiro, Therapeutic Choices, Koda-Kimble)

### **ðŸŽ® Structure pÃ©dagogique - 4 niveaux de Bloom :**

1. **Niveau 1 - Connaissance** : MÃ©morisation de faits, dÃ©finitions, donnÃ©es
1. **Niveau 2 - ComprÃ©hension** : InterprÃ©tation des mÃ©canismes et concepts
1. **Niveau 3 - Application** : Calculs, sÃ©lection thÃ©rapeutique, cas pratiques
1. **Niveau 4 - Analyse** : Cas complexes, diagnostic diffÃ©rentiel, interactions

### **âš¡ MÃ©caniques de jeu (CRITIQUES) :**

- **5 questions correctes** par niveau pour progresser au suivant
- **Maximum 3 erreurs** tolÃ©rÃ©es **au total** sur lâ€™ensemble du jeu
- **Maximum 2 erreurs consÃ©cutives** permises (sinon Ã©chec immÃ©diat)
- **Ã‰chec = retour au niveau 1** (recommencer complÃ¨tement)
- **Questions alÃ©atoires** tirÃ©es dâ€™une banque de 10 questions par niveau
- **Timer par question** : dÃ©marre au clic â€œCommencerâ€, sâ€™arrÃªte Ã  la soumission
- **Feedback immÃ©diat** aprÃ¨s chaque rÃ©ponse

### **ðŸ† SystÃ¨me de gamification :**

- **Leaderboard** public avec classement des joueurs
- **Score basÃ© sur la vitesse** : plus la rÃ©ponse est rapide, plus le score est Ã©levÃ©
- **Calcul du score par question** :
  
  ```javascript
  const calculateScore = (isCorrect, timeInSeconds) => {
    const basePoints = isCorrect ? 100 : 0;
    const maxTime = 30; // secondes max pour rÃ©ponse
    const speedBonus = Math.max(0, 50 * (1 - timeInSeconds / maxTime));
    return basePoints + Math.round(speedBonus);
  };
  ```
- **Score total** = Somme des scores individuels + bonus de complÃ©tion
- **Affichage temps rÃ©el** du score par question

### **ðŸ’» Stack technique pour Replit :**

- **Frontend** : React.js avec hooks (useState, useEffect, useRef)
- **Styling** : Tailwind CSS pour interface responsive
- **Import CSV** : Fonction native JavaScript ou Papa Parse si nÃ©cessaire
- **Timer** : useEffect avec setInterval/Date.now() pour prÃ©cision
- **Stockage** : LocalStorage pour sauvegarder leaderboard et progression
- **DÃ©ploiement** : Replit hosting intÃ©grÃ©

### **ðŸ“ Structure des fichiers Replit :**

```
/src
  /components
    - QuestionCard.jsx        // Composant question individuelle
    - Leaderboard.jsx         // Tableau des scores
    - ProgressBar.jsx         // Barre de progression niveaux
    - Timer.jsx               // ChronomÃ¨tre en temps rÃ©el
    - GameOverScreen.jsx      // Ã‰cran d'Ã©chec
    - CompletionScreen.jsx    // Ã‰cran de rÃ©ussite
  /data
    - questions.csv           // Banque de 40 questions MVP
  /utils
    - csvParser.js            // Fonction d'import CSV
    - scoreCalculator.js      // Logique calcul scores
    - gameLogic.js            // RÃ¨gles du jeu (erreurs, progression)
  /styles
    - tailwind.css           // Configuration Tailwind
  - App.jsx                  // Composant principal
  - index.js                 // Point d'entrÃ©e
  - package.json             // DÃ©pendances React
```

### **ðŸ“‹ Format CSV exact (40 questions MVP) :**

```csv
niveau,domaine,question,optionA,optionB,optionC,optionD,reponse_correcte,explication,reference
1,Ã‰pidÃ©miologie,Q1,A,B,C,D,A,Explication Q1,Ref1
1,Physiopathologie,Q2,A,B,C,D,B,Explication Q2,Ref2
1,Diagnostic,Q3,A,B,C,D,C,Explication Q3,Ref3
1,Pharmacologie,Q4,A,B,C,D,D,Explication Q4,Ref4
1,Stratification,Q5,A,B,C,D,A,Explication Q5,Ref5
1,Objectifs,Q6,A,B,C,D,B,Explication Q6,Ref6
1,MHV,Q7,A,B,C,D,C,Explication Q7,Ref7
1,PharmacothÃ©rapie,Q8,A,B,C,D,D,Explication Q8,Ref8
1,PrÃ©sentation,Q9,A,B,C,D,A,Explication Q9,Ref9
1,Suivi,Q10,A,B,C,D,B,Explication Q10,Ref10
2,Ã‰pidÃ©miologie,Q11,A,B,C,D,C,Explication Q11,Ref11
[...rÃ©pÃ©ter pour niveaux 2, 3, 4 avec Q12-Q40]
```

### **ðŸ”§ FonctionnalitÃ©s critiques Ã  implÃ©menter :**

#### **1. Gestion du timer :**

```javascript
const [startTime, setStartTime] = useState(null);
const [responseTime, setResponseTime] = useState(0);

// DÃ©marrer timer Ã  l'affichage de la question
useEffect(() => {
  setStartTime(Date.now());
}, [currentQuestion]);

// Calculer temps Ã  la soumission
const handleSubmit = () => {
  const endTime = Date.now();
  const timeInSeconds = (endTime - startTime) / 1000;
  setResponseTime(timeInSeconds);
  // Calculer et afficher score
};
```

#### **2. Validation stricte des erreurs :**

```javascript
const [totalErrors, setTotalErrors] = useState(0);
const [consecutiveErrors, setConsecutiveErrors] = useState(0);

const handleWrongAnswer = () => {
  const newTotalErrors = totalErrors + 1;
  const newConsecutiveErrors = consecutiveErrors + 1;
  
  // Ã‰chec immÃ©diat si 3 erreurs total OU 2 consÃ©cutives
  if (newTotalErrors >= 3 || newConsecutiveErrors >= 2) {
    setGameState('gameOver');
    return;
  }
  
  setTotalErrors(newTotalErrors);
  setConsecutiveErrors(newConsecutiveErrors);
};
```

#### **3. Import et randomisation CSV :**

```javascript
const loadQuestions = async () => {
  const response = await fetch('/src/data/questions.csv');
  const csvText = await response.text();
  const questions = parseCSV(csvText);
  
  // Randomiser questions par niveau
  const randomizedQuestions = {};
  [1,2,3,4].forEach(level => {
    const levelQuestions = questions.filter(q => q.niveau == level);
    randomizedQuestions[level] = shuffleArray(levelQuestions);
  });
  
  return randomizedQuestions;
};
```

#### **4. Leaderboard LocalStorage :**

```javascript
const saveScore = (playerName, totalScore, totalTime, level) => {
  const scores = JSON.parse(localStorage.getItem('hta-leaderboard') || '[]');
  scores.push({
    name: playerName,
    score: totalScore,
    time: totalTime,
    level: level,
    date: new Date().toISOString()
  });
  
  // Trier par score dÃ©croissant, puis temps croissant
  scores.sort((a, b) => b.score - a.score || a.time - b.time);
  
  // Garder top 10
  const top10 = scores.slice(0, 10);
  localStorage.setItem('hta-leaderboard', JSON.stringify(top10));
};
```

### **ðŸŽ¯ Interface utilisateur requise :**

- **Page dâ€™accueil** : RÃ¨gles du jeu + bouton dÃ©marrer
- **Interface de jeu** : Question, options, timer, score courant, progression
- **Feedback immÃ©diat** : Correct/Incorrect avec explication
- **Ã‰cran Game Over** : Statistiques + bouton recommencer
- **Ã‰cran de rÃ©ussite** : Score final + leaderboard
- **Leaderboard permanent** : Top 10 des meilleurs scores

### **ðŸ“± Responsive Design :**

- **Desktop** : Interface complÃ¨te avec sidebar leaderboard
- **Tablet** : Interface adaptÃ©e, leaderboard en modal
- **Mobile** : Interface simplifiÃ©e, navigation verticale

### **ðŸš€ Livrables MVP attendus :**

- **Application React fonctionnelle** sur Replit
- **Fichier CSV** avec 40 questions placeholder (Q1-Q40)
- **SystÃ¨me de scoring** avec bonus vitesse
- **Leaderboard** sauvegardÃ© localement
- **Import CSV** automatique et randomisation
- **Interface responsive** complÃ¨te
- **Documentation** README avec instructions utilisation

### **âœ… CritÃ¨res de validation :**

- **MÃ©caniques de jeu strictes** : 3 erreurs total ET 2 consÃ©cutives
- **Timer prÃ©cis** : Mesure exacte du temps de rÃ©ponse
- **Progression fluide** : 4 niveaux avec 5 questions chacun
- **Gamification** : Score temps rÃ©el + leaderboard motivant
- **Import CSV** : Modification facile des questions
- **Performance** : Application fluide sans lag

### **ðŸ”— URL de test :**

Lâ€™application doit Ãªtre **accessible publiquement** via lâ€™URL Replit pour tests utilisateurs.

**Ces instructions sont maintenant 100% prÃªtes pour un dÃ©veloppeur Replit !** ðŸš€â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹â€‹